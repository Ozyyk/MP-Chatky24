(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{33845:(e,r,a)=>{Promise.resolve().then(a.bind(a,44132))},76046:(e,r,a)=>{"use strict";var s=a(66658);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},44132:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o});var s=a(95155),l=a(76046),t=a(91286);let d=["Jihočesk\xfd kraj","Jihomoravsk\xfd kraj","Karlovarsk\xfd kraj","Kr\xe1lov\xe9hradeck\xfd kraj","Libereck\xfd kraj","Moravskoslezsk\xfd kraj","Olomouck\xfd kraj","Pardubick\xfd kraj","Plzeňsk\xfd kraj","Praha","Středočesk\xfd kraj","\xdasteck\xfd kraj","Vysočina","Zl\xednsk\xfd kraj"],n=["Krkonošsko","Orlick\xe9 hory","Šumava","Jesen\xedky","Beskydy","Broumovsko","Česk\xfd r\xe1j","Krušn\xe9 hory","Žď\xe1rsk\xe9 vrchy","Moravsk\xfd kras"];function o(){let e=(0,l.useRouter)(),r=async r=>{r.preventDefault();let a=localStorage.getItem("token");if(!a){alert("Nem\xe1te opr\xe1vněn\xed.");return}let s=new FormData(r.currentTarget),l={};s.forEach((e,r)=>{"image_urls"===r?l[r]=e.split(",").map(e=>e.trim()):l[r]=e});try{let r=await fetch("http://jarda.site:5002/api/cottages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(l)});if(r.ok)alert("Chata byla \xfaspěšně přid\xe1na."),e.push("/admin");else{let e=await r.json();alert("Chyba při přid\xe1v\xe1n\xed chaty: ".concat(e.message))}}catch(e){console.error("Chyba při odes\xedl\xe1n\xed:",e),alert("Došlo k chybě při odes\xedl\xe1n\xed požadavku.")}};return(async()=>{let r=localStorage.getItem("token");if(!r){e.push("/");return}JSON.parse(atob(r.split(".")[1])).isAdmin||e.push("/")})(),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.A,{}),(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 py-12",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-mygreen text-center mb-8",children:"Přidat novou chatu"}),(0,s.jsxs)("form",{onSubmit:r,className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Z\xe1kladn\xed informace"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe1zev chaty"}),(0,s.jsx)("input",{type:"text",name:"name",placeholder:"Např. Chata Krkonoše",className:"w-full border border-gray-300 rounded-md p-2",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kraj"}),(0,s.jsxs)("select",{name:"region",className:"w-full border border-gray-300 rounded-md p-2",required:!0,children:[(0,s.jsx)("option",{value:"",children:"-- Vyberte kraj --"}),d.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turistick\xe1 oblast"}),(0,s.jsxs)("select",{name:"touristArea",className:"w-full border border-gray-300 rounded-md p-2",required:!0,children:[(0,s.jsx)("option",{value:"",children:"-- Vyberte turistickou oblast --"}),n.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cena za den"}),(0,s.jsx)("input",{type:"number",name:"rent_per_day",placeholder:"Např. 1500 Kč",className:"w-full border border-gray-300 rounded-md p-2",required:!0})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Vybaven\xed"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max. osob"}),(0,s.jsx)("input",{type:"number",name:"maxPeopleCount",placeholder:"Např. 8",className:"w-full border border-gray-300 rounded-md p-2",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Počet pokojů"}),(0,s.jsx)("input",{type:"number",name:"roomCount",placeholder:"Např. 4",className:"w-full border border-gray-300 rounded-md p-2",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wifi"}),(0,s.jsxs)("select",{name:"wifi",className:"w-full border border-gray-300 rounded-md p-2",required:!0,children:[(0,s.jsx)("option",{value:"true",children:"Ano"}),(0,s.jsx)("option",{value:"false",children:"Ne"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zv\xedřata povolena"}),(0,s.jsxs)("select",{name:"animal_allowed",className:"w-full border border-gray-300 rounded-md p-2",required:!0,children:[(0,s.jsx)("option",{value:"true",children:"Ano"}),(0,s.jsx)("option",{value:"false",children:"Ne"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Povlečen\xed"}),(0,s.jsxs)("select",{name:"bedding_available",className:"w-full border border-gray-300 rounded-md p-2",required:!0,children:[(0,s.jsx)("option",{value:"true",children:"Ano"}),(0,s.jsx)("option",{value:"false",children:"Ne"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parkov\xe1n\xed"}),(0,s.jsxs)("select",{name:"parking_available",className:"w-full border border-gray-300 rounded-md p-2",required:!0,children:[(0,s.jsx)("option",{value:"true",children:"Ano"}),(0,s.jsx)("option",{value:"false",children:"Ne"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Poloha"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zeměpisn\xe1 š\xedřka"}),(0,s.jsx)("input",{type:"number",name:"latitude",placeholder:"Např. 49.1951",step:"any",className:"w-full border border-gray-300 rounded-md p-2",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zeměpisn\xe1 d\xe9lka"}),(0,s.jsx)("input",{type:"number",name:"longitude",placeholder:"Např. 16.6068",step:"any",className:"w-full border border-gray-300 rounded-md p-2",required:!0})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Obr\xe1zky (URL)"}),(0,s.jsx)("textarea",{name:"image_urls",placeholder:"Zadejte URL obr\xe1zků oddělen\xe9 č\xe1rkou (např. http://image1.jpg, http://image2.jpg)",className:"w-full border border-gray-300 rounded-md p-2",rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Popis a detaily"}),(0,s.jsx)("textarea",{name:"description",placeholder:"Popis chaty...",className:"w-full border border-gray-300 rounded-md p-2",rows:4,required:!0})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{type:"submit",className:"bg-mygreen text-white py-3 px-6 rounded-md hover:bg-lightgreen transition",children:"Přidat chatu"})})]})]})})]})}},91286:(e,r,a)=>{"use strict";a.d(r,{A:()=>d});var s=a(95155),l=a(12115),t=a(76046);function d(){let[e,r]=(0,l.useState)(""),a=(0,t.useRouter)();return(0,s.jsxs)("nav",{className:"relative bg-gradient-to-r from-lightgreen via-mygreen to-darkgreen text-white shadow-md",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-wide",children:"Admin Panel"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),r("\xdaspěšně jste se odhl\xe1sili. Přesměrov\xe1v\xe1me na přihlašovac\xed str\xe1nku..."),setTimeout(()=>{a.push("/login")},2e3)},className:"bg-white text-mygreen font-medium py-2 px-4 rounded-md shadow-md hover:bg-gray-100 hover:text-green-700 transition",children:"Odhl\xe1sit se"})]}),e&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-full bg-red-500 text-white text-center py-2",children:e})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,517,358],()=>r(33845)),_N_E=e.O()}]);