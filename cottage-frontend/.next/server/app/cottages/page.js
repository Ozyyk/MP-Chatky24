(()=>{var e={};e.id=589,e.ids=[589],e.modules={318:(e,t,s)=>{Promise.resolve().then(s.bind(s,6426)),Promise.resolve().then(s.bind(s,5743))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1312:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},1317:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(687),a=s(6189);function n(){let e=(0,a.useRouter)();return(0,r.jsx)("footer",{className:"bg-gradient-to-r from-darkgreen via-mygreen to-lightgreen text-white shadow-lg py-8",children:(0,r.jsxs)("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 text-sm",children:[(0,r.jsxs)("div",{className:"text-center md:text-left space-y-2",children:[(0,r.jsx)("p",{className:"text-base font-bold",children:"Rezervačn\xed syst\xe9m Chat"}),(0,r.jsx)("p",{children:"\xa9 2024 Všechna pr\xe1va vyhrazena."}),(0,r.jsxs)("p",{children:["Vytvořil ",(0,r.jsx)("span",{className:"text-lightgreen font-semibold",children:"Ondřej"}),"."]})]}),(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("p",{className:"text-base font-bold",children:"Užitečn\xe9 odkazy"}),(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("button",{onClick:()=>{e.push("/contact")},className:"text-white hover:underline",children:"Kontakt"}),(0,r.jsx)("button",{onClick:()=>{e.push("/rules")},className:"text-white hover:underline",children:"Podm\xednky už\xedv\xe1n\xed"})]})]}),(0,r.jsxs)("div",{className:"text-center md:text-right space-y-2",children:[(0,r.jsx)("p",{className:"text-base font-bold",children:"Akce"}),(0,r.jsx)("a",{href:"/request",className:"text-white hover:underline",children:"Přidat chatu"})]})]})})}},1602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(7413),a=s(2356),n=s(5037);function o(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.default,{}),(0,r.jsx)("main",{children:(0,r.jsx)(a.default,{})})]})}},1975:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(5239),a=s(8088),n=s(8170),o=s.n(n),l=s(893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let c={children:["",{children:["cottages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1602)),"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/app/cottages/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/app/cottages/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/cottages/page",pathname:"/cottages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2356:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/components/CottagesList.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/components/CottagesList.tsx","default")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4230:(e,t,s)=>{Promise.resolve().then(s.bind(s,2356)),Promise.resolve().then(s.bind(s,5037))},4263:()=>{},4431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/app/layout.tsx","default")},4864:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},5037:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/components/Navbars/userNavbar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ondrejbelohradsky/Documents/Cottages-Git/Chatky/MP-Chatky24/cottage-frontend/src/components/Navbars/userNavbar.tsx","default")},5041:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(687);function a({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:e})})}s(4263)},5743:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(687),a=s(3210),n=s(6189);function o(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(!1),h=(0,a.useRef)(null);return(0,r.jsxs)("nav",{className:"bg-gradient-to-r from-lightgreen via-mygreen to-darkgreen text-white shadow-lg",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:(0,r.jsx)("a",{href:"/",children:"Chatky24"})}),(0,r.jsxs)("ul",{className:"flex space-x-4 items-center",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/",className:"hover:underline",children:"Domů"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/cottages",className:"hover:underline",children:"Chaty"})}),!t&&(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/login",className:"hover:underline",children:"Přihl\xe1šen\xed"})}),t&&i&&(0,r.jsxs)("li",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>m(!d),className:"hover:underline focus:outline-none",children:[i," "]}),d&&(0,r.jsx)("div",{ref:h,className:"absolute right-0 mt-2 bg-white text-gray-700 rounded-md shadow-lg w-48 z-10",children:(0,r.jsxs)("ul",{className:"py-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/profile",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>m(!1),children:"Můj profil"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/reservations",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>m(!1),children:"Moje rezervace"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),s(!1),l(!0),m(!1),setTimeout(()=>{l(!1),e.push("/login")},2e3)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600",children:"Odhl\xe1sit se"})})]})})]})]})]}),o&&(0,r.jsx)("div",{className:"fixed top-0 left-0 w-full bg-red-500 text-white text-center py-2",children:"\xdaspěšně jste se odhl\xe1sili. Přesměrov\xe1v\xe1me na přihl\xe1šen\xed..."})]})}},6189:(e,t,s)=>{"use strict";var r=s(5773);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},6426:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(687),a=s(3210),n=s(6189),o=s(1317);let l=["Jihočesk\xfd kraj","Jihomoravsk\xfd kraj","Karlovarsk\xfd kraj","Kr\xe1lov\xe9hradeck\xfd kraj","Libereck\xfd kraj","Moravskoslezsk\xfd kraj","Olomouck\xfd kraj","Pardubick\xfd kraj","Plzeňsk\xfd kraj","Praha","Středočesk\xfd kraj","\xdasteck\xfd kraj","Vysočina","Zl\xednsk\xfd kraj"],i=["Krkonošsko","Orlick\xe9 hory","Šumava","Jesen\xedky","Beskydy","Broumovsko","Česk\xfd r\xe1j","Krušn\xe9 hory","Žď\xe1rsk\xe9 vrchy","Moravsk\xfd kras"];function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[d,m]=(0,a.useState)({region:"",touristArea:"",priceRange:[0,1e4],maxPeopleCount:"",wifi:!1,parking_available:!1,animal_allowed:!1,bedding_available:!1}),[h,u]=(0,a.useState)(""),[x,g]=(0,a.useState)(!1),[p,b]=(0,a.useState)(1),v=(0,n.useRouter)(),j=async()=>{try{let e=await fetch("http://jarda.site:5002/api/cottages");if(e.ok){let s=await e.json();console.log("Fetched cottages:",s),t(s),c(s);let r=await Promise.all(s.map(async e=>{let t=await fetch(`http://jarda.site:5002/api/comments/${e._id}`);if(t.ok){let s=await t.json(),r=s.reduce((e,t)=>e+t.rating,0)/(s.length||1);return{...e,averageRating:r||0}}return{...e,averageRating:0}}));t(r),c(r)}else alert("Chyba při nač\xedt\xe1n\xed chat.")}catch(e){console.error("Error fetching cottages:",e)}},y=6*p,f=s.slice(y-6,y),k=e=>{b(e)},N=e=>{let t=e.target;t instanceof HTMLInputElement&&"checkbox"===t.type?m({...d,[t.name]:t.checked}):m({...d,[t.name]:t.value})},C=(e,t)=>{let s=[...d.priceRange];s[t]=Number(e.target.value),m({...d,priceRange:s})};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 text-gray-800",children:"Nab\xeddka Chat"}),(0,r.jsx)("div",{className:"text-center mb-4",children:(0,r.jsx)("button",{onClick:()=>g(!x),className:"bg-mygreen text-white px-6 py-2 rounded-md shadow-md hover:bg-lightgreen transition",children:x?"Skr\xfdt filtry":"Zobrazit filtry"})}),x&&(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j()},className:"bg-white p-6 rounded-lg shadow-md mb-8 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kraj"}),(0,r.jsxs)("select",{name:"region",value:d.region,onChange:N,className:"w-full border rounded-md p-2",children:[(0,r.jsx)("option",{value:"",children:"-- Vyberte kraj --"}),l.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Turistick\xe1 oblast"}),(0,r.jsxs)("select",{name:"touristArea",value:d.touristArea,onChange:N,className:"w-full border rounded-md p-2",children:[(0,r.jsx)("option",{value:"",children:"-- Vyberte turistickou oblast --"}),i.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Počet osob"}),(0,r.jsx)("input",{type:"number",name:"maxPeopleCount",value:d.maxPeopleCount,onChange:N,placeholder:"Např. 8",className:"w-full border rounded-md p-2"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rozsah ceny"}),(0,r.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,r.jsx)("input",{type:"range",min:0,max:1e4,step:"100",value:d.priceRange[0],onChange:e=>C(e,0),className:"w-full accent-mygreen"}),(0,r.jsxs)("span",{className:"text-sm",children:[d.priceRange[0]," Kč"]}),(0,r.jsx)("input",{type:"range",min:0,max:1e4,step:"100",value:d.priceRange[1],onChange:e=>C(e,1),className:"w-full accent-mygreen"}),(0,r.jsxs)("span",{className:"text-sm",children:[d.priceRange[1]," Kč"]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6",children:[(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Wi-Fi"}),(0,r.jsx)("input",{type:"checkbox",name:"wifi",checked:d.wifi,onChange:N,className:"w-6 h-6 mt-2 accent-mygreen"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Parkov\xe1n\xed"}),(0,r.jsx)("input",{type:"checkbox",name:"parking_available",checked:d.parking_available,onChange:N,className:"w-6 h-6 mt-2 accent-mygreen"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Zv\xedřata povolena"}),(0,r.jsx)("input",{type:"checkbox",name:"animal_allowed",checked:d.animal_allowed,onChange:N,className:"w-6 h-6 mt-2 accent-mygreen"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Povlečen\xed"}),(0,r.jsx)("input",{type:"checkbox",name:"bedding_available",checked:d.bedding_available,onChange:N,className:"w-6 h-6 mt-2 accent-mygreen"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,r.jsx)("button",{type:"submit",className:"bg-lightgreen text-white px-4 py-2 rounded-md hover:bg-lightergreen",children:"Filtrovat"}),(0,r.jsx)("button",{type:"button",onClick:()=>{m({region:"",touristArea:"",priceRange:[0,1e4],maxPeopleCount:"",wifi:!1,parking_available:!1,animal_allowed:!1,bedding_available:!1}),window.location.reload(),b(1)},className:"bg-lightgreen text-white px-4 py-2 rounded-md hover:bg-lightergreen",children:"Vymazat filtry"})]})]}),(0,r.jsxs)("div",{className:"mb-6 text-center",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Řadit podle:"}),(0,r.jsxs)("select",{value:h,onChange:e=>{let t=e.target.value;u(t);let r=[...s];"priceAsc"===t?r.sort((e,t)=>e.rent_per_day-t.rent_per_day):"priceDesc"===t?r.sort((e,t)=>t.rent_per_day-e.rent_per_day):"nameAsc"===t?r.sort((e,t)=>e.name.localeCompare(t.name)):"nameDesc"===t?r.sort((e,t)=>t.name.localeCompare(e.name)):"ratingDesc"===t&&r.sort((e,t)=>(t.averageRating||0)-(e.averageRating||0)),c(r)},className:"border rounded-md p-2 w-48 mt-2",children:[(0,r.jsx)("option",{value:"",children:"-- Vyberte možnost --"}),(0,r.jsx)("option",{value:"priceAsc",children:"Nejlevnějš\xed"}),(0,r.jsx)("option",{value:"priceDesc",children:"Nejdražš\xed"}),(0,r.jsx)("option",{value:"nameAsc",children:"Podle abecedy (A-Z)"}),(0,r.jsx)("option",{value:"nameDesc",children:"Podle abecedy (Z-A)"}),(0,r.jsx)("option",{value:"ratingDesc",children:"Nejl\xe9pe hodnocen\xe9"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition p-4",onClick:()=>v.push(`/cottages/${e._id}`),children:[(0,r.jsx)("img",{src:e.image_urls[0]||"placeholder.jpg",alt:e.name,className:"w-full h-48 object-cover rounded-md"}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:e.name}),(0,r.jsx)("p",{className:"text-gray-500",children:e.region}),(0,r.jsxs)("p",{className:"text-mygreen font-bold",children:[e.rent_per_day," Kč / noc"]}),(0,r.jsxs)("p",{className:"text-lightgreen font-bold",children:[e.averageRating?e.averageRating.toFixed(1):"0.0"," / 10"]})]})]},e._id))}),(0,r.jsx)("div",{className:"mt-6 flex justify-center space-x-2",children:Array.from({length:Math.ceil(s.length/6)},(e,t)=>(0,r.jsx)("button",{onClick:()=>k(t+1),className:`px-4 py-2 rounded-md ${p===t+1?"bg-lightgreen text-white":"bg-gray-200"}`,children:t+1},t))})]}),(0,r.jsx)(o.A,{})]})}},8549:(e,t,s)=>{Promise.resolve().then(s.bind(s,4431))},8821:(e,t,s)=>{Promise.resolve().then(s.bind(s,5041))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[825],()=>s(1975));module.exports=r})();